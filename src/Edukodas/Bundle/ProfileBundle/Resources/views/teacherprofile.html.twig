{% extends "EdukodasTemplateBundle::base.html.twig" %}

{% block body %}

    <div class="row" style="clear: both;">
        <!-- Modal Structure -->
        <div id="add-task-modal" class="modal valign-wrapper">
            <div class="modal-content">
            </div>
        </div>
        <!-- Modal Structure -->
        <div id="edit-task-modal" class="modal valign-wrapper">
            <div class="modal-content">
            </div>
        </div>
        <h4>Add task <a class="btn-floating btn-small waves-effect waves-light red" href="#add-task-modal">
                <i class="small material-icons">note_add</i>
            </a></h4>
        <div id="tasks-list">
            {% for course in user.courses %}
                <div class="divider"></div>
                <div class="section">
                    <h4>{{ course.name }}</h4>
                    <table class="striped" id="course-{{ course.id }}">
                        <tbody>
                            {% for task in course.tasks %}
                                <tr id="task-{{ task.id }}">
                                    <td>
                                        <h5>{{ task.name }}</h5>
                                        {{ task.description }}
                                    </td>
                                    <td>
                                        <h5>{{ task.points }}</h5>
                                    </td>
                                    <td>
                                        <a data-task-id="{{ task.id }}"
                                            class="btn-floating btn-small waves-effect waves-light red"
                                            href="#edit-task-modal">
                                            <i class="small material-icons">mode_edit</i>
                                        </a>
                                    </td>
                                    <td>
                                        <a data-task-id="{{ task.id }}"
                                           class="btn-floating btn-small waves-effect waves-light red delete-task"
                                           href="#delete-task">
                                            <i class="small material-icons">delete</i>
                                        </a>
                                    </td>
                                </tr>
                            {% else %}
                                {{ 'list.no_tasks'|trans }}
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="divider"></div>
                {{ 'list.no_courses'|trans }}
            {% endfor %}
        </div>
    </div>
{% endblock %}
